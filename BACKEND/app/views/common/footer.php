
<!--Loading modal -->
<div class="modal fade" id="loading_modal" role="dialog">
    <div class="modal-dialog modal-full" style="max-width: 120px;margin-top: 15%">
        <div class="modal-content" style="webkit-box-shadow:0px !important;background-color: transparent">
            <div class="modal-body form" style="text-align: center">
                <img style="width: 80px; padding: 10px" src="<?php echo base_url('assets/images/hourglass.svg')?>" >
                <b>Please Wait...</b>
            </div>
        </div>
    </div>
</div>
<!--Loading modal -->


</div>
</div>
</div>
</div>
<!-- Customizer--->
<!--<div class="floated-customizer-btn third-floated-btn">
    <div class="icon-w">
        <i class="os-icon os-icon-ui-46"></i>
    </div>
    <span></span>
</div>
<div class="floated-customizer-panel">
    <div class="fcp-content">
        <div class="close-customizer-btn">
            <i class="os-icon os-icon-x"></i>
        </div>
        <div class="fcp-group">
            <div class="fcp-group-header">
                Menu Settings
            </div>
            <div class="fcp-group-contents">
                <div class="fcp-field">
                    <label for="">Menu Position</label><select class="menu-position-selector">
                        <option value="left">
                            Left
                        </option>
                        <option value="right">
                            Right
                        </option>
                        <option value="top">
                            Top
                        </option>
                    </select>
                </div>
                <div class="fcp-field">
                    <label for="">Menu Style</label><select class="menu-layout-selector">
                        <option value="compact">
                            Compact
                        </option>
                        <option value="full">
                            Full
                        </option>
                        <option value="mini">
                            Mini
                        </option>
                    </select>
                </div>
                <div class="fcp-field with-image-selector-w">
                    <label for="">With Image</label><select class="with-image-selector">
                        <option value="yes">
                            Yes
                        </option>
                        <option value="no">
                            No
                        </option>
                    </select>
                </div>
                <div class="fcp-field">
                    <label for="">Menu Color</label>
                    <div class="fcp-colors menu-color-selector">
                        <div class="color-selector menu-color-selector color-bright selected"></div>
                        <div class="color-selector menu-color-selector color-dark"></div>
                        <div class="color-selector menu-color-selector color-light"></div>
                        <div class="color-selector menu-color-selector color-transparent"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="fcp-group">
            <div class="fcp-group-header">
                Sub Menu
            </div>
            <div class="fcp-group-contents">
                <div class="fcp-field">
                    <label for="">Sub Menu Style</label><select class="sub-menu-style-selector">
                        <option value="flyout">
                            Flyout
                        </option>
                        <option value="inside">
                            Inside/Click
                        </option>
                        <option value="over">
                            Over
                        </option>
                    </select>
                </div>
                <div class="fcp-field">
                    <label for="">Sub Menu Color</label>
                    <div class="fcp-colors">
                        <div class="color-selector sub-menu-color-selector color-bright selected"></div>
                        <div class="color-selector sub-menu-color-selector color-dark"></div>
                        <div class="color-selector sub-menu-color-selector color-light"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="fcp-group">
            <div class="fcp-group-header">
                Other Settings
            </div>
            <div class="fcp-group-contents">
                <div class="fcp-field">
                    <label for="">Full Screen?</label><select class="full-screen-selector">
                        <option value="yes">
                            Yes
                        </option>
                        <option value="no">
                            No
                        </option>
                    </select>
                </div>
                <div class="fcp-field">
                    <label for="">Show Top Bar</label><select class="top-bar-visibility-selector">
                        <option value="yes">
                            Yes
                        </option>
                        <option value="no">
                            No
                        </option>
                    </select>
                </div>
                <div class="fcp-field">
                    <label for="">Above Menu?</label><select class="top-bar-above-menu-selector">
                        <option value="yes">
                            Yes
                        </option>
                        <option value="no">
                            No
                        </option>
                    </select>
                </div>
                <div class="fcp-field">
                    <label for="">Top Bar Color</label>
                    <div class="fcp-colors">
                        <div class="color-selector top-bar-color-selector color-bright selected"></div>
                        <div class="color-selector top-bar-color-selector color-dark"></div>
                        <div class="color-selector top-bar-color-selector color-light"></div>
                        <div class="color-selector top-bar-color-selector color-transparent"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>-->
<!-- Customizer--->
<div class="display-type"></div>
<footer class="footer" style="width: 100%;display: inline-table;height: 50px;">
    <p style="text-align: right; position: absolute; bottom: 10px; right: 10px;font-size: 10px;color:#4b59a5;"><?php echo date("Y"); ?> All Rights Reserved. Authorized personnel only. </p>
</footer>
</div>

<!--auto complete added by vkc de mel-->
<script src="<?php echo base_url(); ?>assets/js/jquery-ui.js"></script>
<!--auto complete module added by vkc de mel-->

<!--<script src="<?php /*echo base_url(); */?>assets/plugins/jquery/dist/jquery.min.js"></script>-->
<!--<script src="<?php /*echo base_url(); */?>assets/plugins/jquery-bar-rating/dist/jquery.barrating.min.js"></script>
        <script src="<?php /*echo base_url(); */?>assets/plugins/bootstrap-validator/dist/validator.min.js"></script>
        <script src="<?php /*echo base_url(); */?>assets/plugins/ion.rangeSlider/js/ion.rangeSlider.min.js"></script>
        <script src="<?php /*echo base_url(); */?>assets/plugins/dropzone/dist/dropzone.js"></script>
        <script src="<?php /*echo base_url(); */?>assets/plugins/editable-table/mindmup-editabletable.js"></script>
        <script src="<?php /*echo base_url(); */?>assets/plugins/fullcalendar/dist/fullcalendar.min.js"></script>-->
<script src="<?php echo base_url(); ?>assets/plugins/perfect-scrollbar/js/perfect-scrollbar.jquery.min.js"></script>
<script src="<?php echo base_url(); ?>assets/plugins/tether/dist/js/tether.min.js"></script>
<script src="<?php echo base_url(); ?>assets/plugins/slick-carousel/slick/slick.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/main.js"></script>


<!--V1 -->
<script src="<?php echo base_url(); ?>assets/node_modules/popper/popper.min.js"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/perfect-scrollbar.jquery.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/waves.js"></script>
<script src="<?php echo base_url(); ?>assets/js/sidebarmenu.js"></script>
<script src="<?php echo base_url(); ?>assets/js/jquery.blockUI.js"></script>
<script src="<?php echo base_url(); ?>assets/js/custom.js"></script>
<script src="<?php echo base_url(); ?>assets/js/jquery.cookie.js" type="text/javascript"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/toast-master/js/jquery.toast.js"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/datatables/jquery.dataTables.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/dt/dataTables.buttons.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/dt/buttons.flash.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/dt/jszip.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/dt/pdfmake.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/dt/vfs_fonts.js"></script>
<script src="<?php echo base_url(); ?>assets/js/dt/buttons.html5.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/dt/buttons.print.min.js"></script>
<script src="<?php echo base_url(); ?>assets/js/jquery.dataTables.yadcf.js" type="text/javascript"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/moment/moment.js"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/clockpicker/dist/jquery-clockpicker.min.js"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/timepicker/bootstrap-timepicker.min.js"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/bootstrap-daterangepicker/daterangepicker.js"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/bootbox/bootbox.min.js" type="text/javascript"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/select2/dist/js/select2.full.min.js" type="text/javascript"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/bootstrap-select/bootstrap-select.min.js" type="text/javascript"></script>
<script src="<?php echo base_url(); ?>assets/node_modules/bootstrap-duallistbox-4/dist/jquery.bootstrap-duallistbox.min.js" type="text/javascript"></script>
<!--<script src="<?php /*echo base_url(); */?>assets/js/demo_customizer.js" type="text/javascript"></script>-->
<script src="<?php echo base_url(); ?>assets/js/socket.io-1.4.5.js" type="text/javascript"></script>

<script>
    $(document).ready(function() {

        $.fn.modal.Constructor.prototype.enforceFocus = function () {};

        $('.selectpickernew').selectpicker();

        <?php $groups_emp = array('admin');
        if ($this->ion_auth->in_group($groups_emp)) { ?>
        $.ajax({
            url:"<?php echo site_url('hr_payroll/system_users/view_payroll_types'); ?>",
            dataType:"JSON",
            data:{
                "<?php echo $this->security->get_csrf_token_name(); ?>":"<?php echo $this->security->get_csrf_hash(); ?>"
            },
            type:"POST",
            success:function(data){
                /* console.log(data);*/

                $('#payroll_types').html('');
                for(var i=0;i<data.length;i++){
                    $('#payroll_types').append('' +
                        '<li>' +
                        '<a href="<?php echo base_url('hr_payroll/system_users/session_change_payroll_types');?>/'+data[i].id+'">'+data[i].name+'</a>' +
                        '</li>' +
                        '');
                }
                 $('#payroll_types').append('' +
                        '<li>' +
                        '<a href="<?php echo base_url('hr_payroll/system_users/session_change_payroll_types');?>/20">Main Payroll</a>' +
                        '</li>' +
                        '');
            },
            error:function(){

            }

        });
        <?php } ?>



        var csrf_token= $.cookie('csrf_gtwc_co');
        $.ajaxSetup({
            data: {
                'csrf_gtwc' : csrf_token
            }
        });

        $('.date-picker').bootstrapMaterialDatePicker({ weekStart: 0, time: false,autoclose: true });
        $('#timepicker').bootstrapMaterialDatePicker({ format: 'HH:mm', time: true, date: false });
        $('.datetimep').bootstrapMaterialDatePicker({ format: 'Y-MM-DD hh:mm:a' });
        $('.monthpick').bootstrapMaterialDatePicker({ format: 'Y-MM',monthPicker:true,year:false,time:false });
        $('.datetimepnew').bootstrapMaterialDatePicker({ format: 'Y-MM-DD HH:mm:ss' });
        $('#min-date').bootstrapMaterialDatePicker({ format: 'DD/MM/YYYY HH:mm', minDate: new Date() });
        $(".select2").select2({allowClear: true,placeholder: "Select a value"});
        $('#check-minutes').click(function(e) {
            e.stopPropagation();
            input.clockpicker('show').clockpicker('toggleView', 'minutes');
        });

        $(".date-pick").datepicker({
            format: "yyyy-mm-dd",
            startView: "years",
            //minViewMode: "months",
            autoclose:true
        });
        $(".month-pick").datepicker( {
            format: "yyyy-mm",
            startView: "years",
            minViewMode: "months",
            autoclose:true
        });

    });

    ///////////////////////Added By VKC De MEl 2019-09-26 //////////////////////////////
    $(".numeric").on("keypress keyup blur",function(event){
        if(event.which > 57){
            event.preventDefault();
        }
    });

    $(document).ready(function() {
        //show notify
        $('#notify-count').show();
        // updating the view with notifications using ajax
        function load_unseen_notification(view = ''){
            var html='';
            $.ajax({
                url:"<?php echo base_url(); ?>roster/roster_approval_con/get_unseen_notification",
                type:"POST",
                dataType:"JSON",
                data:{
                    "<?php echo $this->security->get_csrf_token_name(); ?>":"<?php echo $this->security->get_csrf_hash(); ?>"
                },
                success:function(data){

                    html +='<li style="text-align: center;color:#353b5b;font-size: 13px">' +
                        '  <a href="javascript:;" style="margin-top: 30px;margin-bottom:10px;text-decoration: none">' +
                        '  <strong>Notifications</strong><br />' +
                        '  </a>' +
                        '  </li>';

                    if(data.unseen.length > 0){

                        for(var i=0;i<data.unseen.length;i++){

                            html +='<li style="height: 40px;margin-top: 10px;border-bottom: 1px solid #e6d6d6;">' +
                                '<a href="<?php echo base_url(); ?>'+data.unseen[i].url+'" style="color:black;font-size:12px;text-decoration: none;" onclick="updateView('+data.unseen[i].user_group+','+data.unseen[i].id+')">' +
                                '<strong>&nbsp;&nbsp;&nbsp;'+data.unseen[i].notification+'</strong><br/>' +
                                '</a>' +
                                '</li>';
                        }

                    }
                    else{

                        html +='<li style="height: 40px;margin-top: 10px;border-bottom: 1px solid #e6d6d6;text-align: center">' +
                            '<a href="javascript:;" style="color:black;font-size:12px;text-decoration: none;" >' +
                            '<strong>&nbsp;&nbsp;&nbsp;No Results Found</strong><br/>' +
                            '</a>' +
                            '</li>';
                    }

                    $('#dropdown-menu').html(html);

                    var myAudio=document.getElementById('myAudio');

                    if(data.notification > 0){

                        // myAudio.play();
                        $('#notify-count').show();
                        $('.count').html(data.notification);

                    }
                    else{

                        $('#notify-count').css('display','none');

                    }

                },
                error:function(){

                }
            });
        }

        //when refresh load unseen notification
        load_unseen_notification();

        //set refresh for view notification
        /*setInterval(function(){
            load_unseen_notification();
        }, 5000);*/
    });

    function updateView(group,id){

        $.ajax({
            url:"<?php echo base_url(); ?>roster/roster_approval_con/update_view/"+group+"/"+id,
            type:"POST",
            dataType:"JSON",
            data:{
                "<?php echo $this->security->get_csrf_token_name(); ?>":"<?php echo $this->security->get_csrf_hash(); ?>"
            },
            success:function(data){
                load_unseen_notification();
            },
            error:function(){

            }
        });

    }

    function updateNotify(){

        $.ajax({
            url:"<?php echo base_url(); ?>roster/roster_approval_con/update_notify",
            type:"POST",
            dataType:"JSON",
            data:{
                "<?php echo $this->security->get_csrf_token_name(); ?>":"<?php echo $this->security->get_csrf_hash(); ?>"
            },
            success:function(data){
                load_unseen_notification();
            },
            error:function(){

            }
        });

    }

    ///////////////////////Added By VKC De MEl 2019-05-30 //////////////////////////////

</script>

</body>
</html>